"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1860],{5566:function(f,c,a){a.d(c,{cY:function(){return h},tw:function(){return j},vT:function(){return i}});var b=a(44891);function g(b,a){return a||(a=b.slice(0)),Object.freeze(Object.defineProperties(b,{raw:{value:Object.freeze(a)}}))}function d(){var a=g(["\n  margin-bottom: 16px;\n  overflow-x: auto;\n  white-space: nowrap;\n"]);return d=function(){return a},a}function e(){var a=g(["\n  display: inline-block;\n  padding: 4px 8px;\n  margin-right: 0.5ch;\n  transition: background-color 0.3s ease;\n  user-select: none;\n  font-size: small;\n  & > span {\n    display: inline-block;\n    width: 1.2em;\n    height: 1em;\n    text-align: center;\n  }\n  &:hover {\n    background: ",";\n  }\n  background: ",";\n  font-weight: ",";\n"]);return e=function(){return a},a}var h=[{caption:"\uC804\uCCB4",dt:1/0},{caption:"1\uB144",dt:31536e6},{caption:"6\uAC1C\uC6D4",dt:15552e6},{caption:"3\uAC1C\uC6D4",dt:7776e6},{caption:"1\uAC1C\uC6D4",dt:2592e6},{caption:"2\uC8FC",dt:12096e5},{caption:"1\uC8FC",dt:6048e5},{caption:"1\uC77C",dt:864e5},],i=b.default.div(d()),j=b.default.a(e(),function(a){return a.theme.color.border},function(a){var b=a.current,c=a.theme;return b?c.color.border:"none"},function(a){return a.current?"bold":"normal"})},74690:function(c,b,a){var d=a(24246),e=a(32420),f=a(11779),g=a(15346),h=a(27378),i=a(24336);function j(c,a){(null==a||a>c.length)&&(a=c.length);for(var b=0,d=new Array(a);b<a;b++)d[b]=c[b];return d}function k(a){return function(a){if(Array.isArray(a))return j(a)}(a)||function(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}(a)||l(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(a,c){if(a){if("string"==typeof a)return j(a,c);var b=Object.prototype.toString.call(a).slice(8,-1);if("Object"===b&&a.constructor&&(b=a.constructor.name),"Map"===b||"Set"===b)return Array.from(b);if("Arguments"===b||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return j(a,c)}}b.Z=function(a){var c=(0,h.useRef)(null),n=(0,h.useRef)(null),b=(0,h.useState)([1200,400]),j=b[0],o=b[1],m=(0,e.a)(),p=(0,h.useMemo)(function(){return a.data.reduceRight(function(b,c){return Math.max(b,c.histories.filter(function(b,d){return d+1===c.histories.length?a.range[0]<=b.date&&b.date<=a.range[1]:a.range[0]<=b.date&&b.date<=a.range[1]||a.range[0]<=c.histories[d+1].date&&c.histories[d+1].date<=a.range[1]}).reduceRight(function(a,b){return Math.max(a,b.value)},0))},0)},[a.data,a.range]),q=(0,h.useMemo)(function(){return a.data.reduceRight(function(b,c){return Math.min(b,c.histories.filter(function(b,d){return d+1===c.histories.length?a.range[0]<=b.date&&b.date<=a.range[1]:a.range[0]<=b.date&&b.date<=a.range[1]||a.range[0]<=c.histories[d+1].date&&c.histories[d+1].date<=a.range[1]}).reduceRight(function(a,b){return Math.min(a,b.value)},1e18))},1e18)},[a.data,a.range]),r=function(o){var d,e,r,n=(e=2,function(a){if(Array.isArray(a))return a}(d=o)||function(b,e){var f,g,a=null==b?null:"undefined"!=typeof Symbol&&b[Symbol.iterator]||b["@@iterator"];if(null!=a){var c=[],d=!0,h=!1;try{for(a=a.call(b);!(d=(f=a.next()).done)&&(c.push(f.value),!e||c.length!==e);d=!0);}catch(i){h=!0,g=i}finally{try{d||null==a.return||a.return()}finally{if(h)throw g}}return c}}(d,e)||l(d,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),h=n[0],j=n[1],c=g.Ue8("svg").attr("viewBox","0 0 ".concat(h," ").concat(j)),b={top:20,right:30,bottom:30,left:60},s=g.Xf().domain(a.range).range([b.left,h-b.right]),t=g.BYU().domain(a.invert?[p,q]:[q,p]).nice().range([j-b.bottom,b.top]);c.append("defs").append("svg:clipPath").attr("id","clip").append("svg:rect").attr("width",h-b.left-b.right).attr("height",j-b.top-b.bottom).attr("x",b.left).attr("y",b.top);var u=c.append("g").call(function(a){return a.attr("transform","translate(0,".concat(j-b.bottom,")")).call(g.LLu(s).ticks(h/80)).attr("font-family","inherit").attr("font-size",12).attr("pointer-events","none").call(function(a){a.selectAll("text").attr("fill",m.color.text.primary.main),a.selectAll("line").attr("stroke",m.color.text.primary.main),a.selectAll(".domain").attr("stroke",m.color.border)}).call(function(a){return a.selectAll(".tick line").clone().attr("stroke",m.color.border).attr("stroke-dasharray","6 6").attr("y2",-j+b.top+b.bottom)})}),v=c.append("g").call(function(a){return a.attr("transform","translate(".concat(b.left,",0)")).call(g.y4O(t).tickFormat(function(a){return(0,f.koreanUnitNumber)(a)})).attr("font-family","inherit").attr("font-size",12).attr("pointer-events","none").call(function(a){a.selectAll("text").attr("fill",m.color.text.primary.main),a.selectAll("line").attr("stroke",m.color.text.primary.main),a.selectAll(".domain").attr("stroke",m.color.border)}).call(function(a){return a.selectAll(".tick line").clone().attr("stroke",m.color.border).attr("x2",h-b.left-b.right)})}),w=g.jvg().curve(g.jsv).defined(function(a){return!isNaN(a.value)}).x(function(a){return s(a.date)}).y(function(a){return t(a.value)}),x=a.drawTierLines?new Array(32).fill(void 0).map(function(d,a){return c.append("path").attr("fill","none").attr("clip-path","url(#clip)").attr("stroke",p-q>0&&(p-q<=1e3||!a||a%5==1)?(0,i.E$)(a):"transparent").attr("pointer-events","none").attr("stroke-dasharray","6 6").attr("d","M".concat(b.left,",").concat(t(i.ZE[a])," ").concat(h-b.right,",").concat(t(i.ZE[a])))}):[],y=a.drawTierLines?new Array(32).fill(void 0).map(function(d,a){return c.append("text").attr("pointer-events","none").attr("font-weight","bold").attr("font-size",12).attr("fill",p-q>0&&(p-q<=1e3||!a||a%5==1)?(0,i.E$)(a):"transparent").attr("pointer-events","none").attr("x",h-b.right+4).attr("y",t(i.ZE[a])+4).text((0,f.formatTierNameShort)(a,!0))}):[],z=a.data.map(function(a){return c.append("path").datum(a.histories).attr("clip-path","url(#clip)").attr("fill","none").attr("stroke",a.me?(0,i.E$)(a.user.tier):"#888").attr("stroke-width",1.5).attr("stroke-linejoin","round").attr("stroke-linecap","round").attr("pointer-events","none").attr("d",w)}),A=c.append("path").attr("pointer-events","none").attr("stroke",m.color.text.primary.main).attr("display","none"),B=c.append("text").attr("pointer-events","none").attr("fill",m.color.text.primary.main).attr("font-size",12).attr("display","none"),C=a.data.map(function(){return c.append("text").attr("pointer-events","none").attr("font-weight","bold").attr("fill",m.color.background.card.main).attr("stroke",m.color.background.card.main).attr("stroke-width",3).attr("font-size",12).attr("display","none")}),D=a.data.map(function(){return c.append("text").attr("pointer-events","none").attr("font-weight","bold").attr("fill",m.color.text.primary.main).attr("font-size",12).attr("display","none")}),E=a.data.map(function(a){return c.append("circle").attr("r",18).attr("fill",a.me?(0,i.E$)(a.user.tier):"#888").attr("pointer-events","none").attr("display","none")}),F=a.data.map(function(b){return c.append("clipPath").attr("id","clip-".concat(a.topic,"-").concat(b.user.handle)).append("rect").attr("width",32).attr("height",32).attr("rx",16)}),G=a.data.map(function(b){return c.append("image").attr("clip-path","url(#clip-".concat(a.topic,"-").concat(b.user.handle,")")).attr("xlink:href",(0,i.Q1)(null!==(r=b.user.profileImageUrl)&& void 0!==r?r:"https://static.solved.ac/misc/default_profile.png",64)).attr("width",32).attr("height",32).attr("pointer-events","none").attr("display","none")}),H=g.YFb(function(a){return a.date}).left;return c.on("touchstart",function(a){a.preventDefault()}).on("pointermove",function(f){var k,l,m,c=f.targetTouches?f.targetTouches[0].offsetX:f.offsetX;if(c<b.left||c>h-b.right){A.attr("display","none");return}var i=a.data.map(function(a){var d=a.user,b=a.histories;return{user:d,value:b[Math.max(0,H(b,s.invert(c))-1)]}}),e=i.map(function(b){var a;return t(null!==(k=null===(a=b.value)|| void 0===a?void 0:a.value)&& void 0!==k?k:0)});if(2===e.length){var d=e[0]-e[1];0<=d&&d<48?(e[0]+=(48-d)/2,e[1]-=(48-d)/2):0>=d&&d> -48&&(e[0]-=(48+d)/2,e[1]+=(48+d)/2)}A.attr("display","inline").attr("d","M".concat(c,",0 ").concat(c,",").concat(j-b.bottom)),B.attr("display","inline").attr("transform",c>.7*h?"translate(".concat(c-24,", 16)"):"translate(".concat(c+24,", 16)")).attr("text-anchor",c>.7*h?"end":"start").text(g.i$Z("%Y-%m-%d\n%H:%M %p")(s.invert(c))),i.length&&(D.forEach(function(d,a){var b;return d.attr("display","inline").attr("transform",c>.7*h?"translate(".concat(c-24,", ").concat(e[a]+4,")"):"translate(".concat(c+24,", ").concat(e[a]+4,")")).attr("text-anchor",c>.7*h?"end":"start").text("".concat(i[a].user.handle," = ").concat((null!==(l=null===(b=i[a].value)|| void 0===b?void 0:b.value)&& void 0!==l?l:0).toLocaleString()))}),C.forEach(function(d,a){var b;return d.attr("display","inline").attr("transform",c>.7*h?"translate(".concat(c-24,", ").concat(e[a]+4,")"):"translate(".concat(c+24,", ").concat(e[a]+4,")")).attr("text-anchor",c>.7*h?"end":"start").text("".concat(i[a].user.handle," = ").concat((null!==(m=null===(b=i[a].value)|| void 0===b?void 0:b.value)&& void 0!==m?m:0).toLocaleString()))}),E.forEach(function(a,b){return a.attr("display","inline").attr("cx",c).attr("cy",e[b])}),F.forEach(function(a,b){return a.attr("x",c-16).attr("y",e[b]-16)}),G.forEach(function(a,b){return a.attr("display","inline").attr("x",c-16).attr("y",e[b]-16)}))}).on("pointerout",function(){A.attr("display","none"),B.attr("display","none"),D.forEach(function(a){return a.attr("display","none")}),C.forEach(function(a){return a.attr("display","none")}),E.forEach(function(a){return a.attr("display","none")}),G.forEach(function(a){return a.attr("display","none")})}),{node:Object.assign(c.node(),{update:function(o,c){var d,e,l,n;s.domain(o),t.domain(a.invert?[(d=Math).max.apply(d,k(c)),(e=Math).min.apply(e,k(c))]:[(l=Math).min.apply(l,k(c)),(n=Math).max.apply(n,k(c))]),u.transition().duration(500).call(g.LLu(s).ticks(h/80).tickSizeOuter(0)).call(function(a){return a.selectAll(".tick line").attr("stroke",m.color.border).attr("stroke-dasharray","6 6").attr("y2",-j+b.top+b.bottom)}),v.transition().duration(500).call(g.y4O(t).tickFormat(function(a){return(0,f.koreanUnitNumber)(a)})).call(function(a){return a.selectAll(".tick line").attr("stroke",m.color.border).attr("x2",h-b.left-b.right)}),z.forEach(function(a){return a.transition().duration(500).attr("d",w)}),x.forEach(function(d,a){return d.transition().duration(500).attr("d","M".concat(b.left,",").concat(t(i.ZE[a])," ").concat(h-b.right,",").concat(t(i.ZE[a]))).attr("stroke",c[0]-c[1]>0&&(c[0]-c[1]<=1e3||!a||a%5==1)?(0,i.E$)(a):"transparent")}),y.forEach(function(b,a){return b.transition().duration(500).attr("y",t(i.ZE[a])+4).attr("fill",c[0]-c[1]>0&&(c[0]-c[1]<=1e3||!a||a%5==1)?(0,i.E$)(a):"transparent")})}}),cleanup:function(){return c.remove()}}};return(0,h.useEffect)(function(){var b=r(j),a=b.node,d=b.cleanup;return n.current=a,a&&c.current&&c.current.appendChild(a),function(){d()}},[a.data,j,m]),(0,h.useEffect)(function(){n.current&&n.current.update(a.range,[p,q])},[a.range]),(0,h.useEffect)(function(){var a=function(){c.current&&o([c.current.clientWidth,c.current.clientHeight,])};return a(),window.addEventListener("resize",a),function(){window.removeEventListener("resize",a)}},[]),(0,d.jsx)(d.Fragment,{children:(0,d.jsx)("div",{style:{height:400},ref:c})})}},78277:function(c,a,b){var d=b(27378);a.Z=function(b){var a=(0,d.useState)(b||[0,0]),c=a[0],e=a[1];return(0,d.useLayoutEffect)(function(){var a=function(){return e([window.innerWidth,window.innerHeight])};return window.addEventListener("resize",a),a(),function(){return window.removeEventListener("resize",a)}},[]),c}}}])